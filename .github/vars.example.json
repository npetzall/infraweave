{
    "vars": {
        "targets": {
            "linux-amd64": {"rust_target": "x86_64-unknown-linux-gnu", "runner": "ubuntu-latest", "cross": false},
            "linus-amd64-musl": {"rust_target": "x86_64-unknown-linux-musl", "runner": "ubuntu-latest"},
            "linux-arm64": {"rust_target": "aarch64-unknown-linux-gnu", "runner": "ubuntu-latest"},
            "linux-arm64-musl": {"rust_target": "aarch64-unknown-linux-musl", "runner": "ubuntu-latest"},
            "macos-amd64": {"rust_target": "x86_64-apple-darwin", "runner": "macos-latest"},
            "macos-arm64": {"rust_target": "aarch64-apple-darwin", "runner": "macos-latest", "cross": false},
            "windows-amd64": {"rust_target": "x86_64-pc-windows-msvc", "runner": "windows-latest", "cross": false}
        },
        "binaries": [
            {
                "bin": "cli",
                "targets": ["linux-amd64", "linux-amd64-musl", "linux-arm64", "linux-arm64-musl", "macos-amd64", "macos-arm64", "windows-amd64"]
            },
            {
                "bin": "gitops",
                "targets": ["linux-amd64", "linux-amd64-musl", "linux-arm64", "linux-arm64-musl"]
            },
            {
                "bin": "operator",
                "targets": ["linux-amd64", "linux-amd64-musl", "linux-arm64", "linux-arm64-musl"]
            },
            {
                "bin": "prometheus_exporter",
                "targets": ["linux-amd64", "linux-amd64-musl", "linux-arm64", "linux-arm64-musl"]
            },
            {
                "bin": "reconciler",
                "targets": ["linux-amd64", "linux-amd64-musl", "linux-arm64", "linux-arm64-musl"]
            },
            {
                "bin": "terraform_runner",
                "targets": ["linux-amd64", "linux-amd64-musl", "linux-arm64", "linux-arm64-musl"]
            },
            {
                "bin": "webserver-openapi",
                "targets": ["linux-amd64", "linux-amd64-musl", "linux-arm64", "linux-arm64-musl"]
            }
        ],
        "docker_images": [
            {
                "name": "cli",
                "platforms": ["linux/amd64", "linux/arm64"]
            },
            {
                "name": "gitops",
                "platforms": ["linux/amd64", "linux/arm64"]
            },
            {
                "name": "infraweave-mcp",
                "platforms": ["linux/amd64", "linux/arm64"]
            },
            {
                "name": "operator",
                "platforms": ["linux/amd64", "linux/arm64"]
            },
            {
                "name": "prometheus_exporter",
                "platforms": ["linux/amd64", "linux/arm64"]
            },
            {
                "name": "reconciler",
                "platforms": ["linux/amd64", "linux/arm64"]
            },
            {
                "name": "terraform_runner",
                "platforms": ["linux/amd64", "linux/arm64"]
            },
            {
                "name": "webserver-openapi",
                "platforms": ["linux/amd64", "linux/arm64"]
            }
        ],
        "docker_image_mirror": [
            {
                "from": "public.ecr.aws/lambda/python:3.11",
                "to": "lambda-python:3.11"
            },
            {
                "from": "mcr.microsoft.com/azure-functions/python:4.0",
                "to": "azure-functions-python:4.0"
            },
            {
                "from": "mcr.microsoft.com/cosmosdb/linux/azure-cosmos-emulator:vnext-preview",
                "to": "azure-cosmos-emulator:vnext-preview"
            },
            {
                "from": "minio/minio:latest",
                "to": "minio:latest"
            },
            {
                "from": "mcr.microsoft.com/azure-storage/azurite:latest",
                "to": "azurite:latest"
            },
            {
                "from": "amazon/dynamodb-local:latest",
                "to": "dynamodb-local:latest"
            }
        ],
        "python_wheels": [
            "linux-amd64",
            "linux-arm64",
            "linux-amd64-musl",
            "linux-arm64-musl",
            "windows-amd64",
            "macos-arm64"
        ],
        "release_registries": [
            {
                "name": "Docker Hub",
                "registry": "docker.io",
                "repository": "infraweave",
                "auth_type": "login",
                "user_secret": "DOCKER_USER",
                "password_secret": "DOCKER_PASSWORD"
            },
            {
                "name": "Quay.io",
                "registry": "quay.io",
                "repository": "infraweave",
                "auth_type": "login",
                "user_secret": "QUAY_USER",
                "password_secret": "QUAY_PASSWORD"
            },
            {
                "name": "AWS ECR Public",
                "registry": "public.ecr.aws",
                "repository": "infraweave",
                "auth_type": "aws",
                "account_secret": "AWS_ACCOUNT_ID",
                "role_secret": "ECR_PUBLIC_PUSH_ROLE",
                "aws_region_secret": "ECR_PUBLIC_AWS_REGION"
            }
        ]
    }
}